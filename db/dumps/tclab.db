-- MySQL dump 10.13  Distrib 5.5.44, for osx10.11 (x86_64)
--
-- Host: localhost    Database: collos
-- ------------------------------------------------------
-- Server version	5.5.44

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `assays`
--

DROP TABLE IF EXISTS `assays`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `assays` (
  `id` int(4) unsigned NOT NULL AUTO_INCREMENT,
  `id_assay` varchar(32) NOT NULL COMMENT 'Assay ID',
  `code` varchar(8) DEFAULT NULL COMMENT 'Instrument Code',
  `id_instrument` varchar(32) NOT NULL,
  `id_study` varchar(32) NOT NULL DEFAULT 'CRIC' COMMENT 'Study Name',
  `name_assay` varchar(32) NOT NULL COMMENT 'Assay Name',
  `link_info` text NOT NULL COMMENT 'Link: More Info',
  PRIMARY KEY (`id`),
  KEY `id_assay` (`id_assay`),
  KEY `code` (`code`),
  KEY `id_study` (`id_study`),
  KEY `code_2` (`code`)
) ENGINE=MyISAM AUTO_INCREMENT=96 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `batch_quality`
--

DROP TABLE IF EXISTS `batch_quality`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `batch_quality` (
  `id` int(9) NOT NULL AUTO_INCREMENT COMMENT 'table id',
  `id_uuid` varchar(64) NOT NULL COMMENT 'uuid',
  `id_barcode` varchar(12) DEFAULT NULL COMMENT 'Alternate Barode',
  `id_parent` varchar(64) NOT NULL DEFAULT '0' COMMENT 'UUID of parent',
  `id_batch` varchar(64) NOT NULL COMMENT 'batch uuid',
  `id_encounter` varchar(36) DEFAULT NULL COMMENT 'Encounter UUID',
  `hemolyzation` enum('unknown','none','partial','full') NOT NULL DEFAULT 'unknown',
  `destination` varchar(20) NOT NULL COMMENT 'Destination',
  `id_lot` varchar(16) DEFAULT NULL COMMENT 'Lot Number',
  `id_subject` varchar(64) NOT NULL COMMENT 'Subject ID',
  `name_last_updated` varchar(20) DEFAULT NULL,
  `id_ancillary` varchar(32) DEFAULT '' COMMENT 'Ancillary ID',
  `id_study` varchar(32) DEFAULT NULL COMMENT 'Study Name',
  `id_visit` varchar(20) NOT NULL COMMENT 'Visit #',
  `id_alq` varchar(32) DEFAULT NULL COMMENT 'Unique Aliquot ID',
  `name_created` varchar(32) NOT NULL COMMENT 'Created by Name',
  `name_shipper` varchar(32) NOT NULL COMMENT 'Shipped By',
  `date_collection` date NOT NULL COMMENT 'Collection Date',
  `date_ship` date NOT NULL COMMENT 'Ship Date',
  `date_receipt` date NOT NULL COMMENT 'Receipt Date',
  `date_visit` date NOT NULL COMMENT 'Visit Date',
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `shipment_type` varchar(13) NOT NULL COMMENT 'Shipment Type',
  `sequence` int(11) NOT NULL COMMENT 'Sequence',
  `num_order` int(2) NOT NULL COMMENT 'Print Order',
  `sample_type` varchar(32) NOT NULL COMMENT 'Sample Type',
  `sample_identifier` varchar(256) DEFAULT NULL COMMENT 'Sample Identifier',
  `sample_collos_id` varchar(256) DEFAULT NULL COMMENT 'Sample Name',
  `sample_name` varchar(256) DEFAULT NULL COMMENT 'Sample Name',
  `collection_time` varchar(256) DEFAULT NULL COMMENT 'Collection Timepoint',
  `treatment` varchar(256) DEFAULT NULL COMMENT 'Treatment',
  `sample_source` varchar(64) DEFAULT NULL COMMENT 'Anatomical Source',
  `import_source` int(2) DEFAULT NULL,
  `collect_type` int(2) DEFAULT NULL,
  `type` enum('tube','box','rack','shelf','freezer','paper','unassigned') NOT NULL DEFAULT 'tube' COMMENT 'Object Type',
  `quant_init` varchar(32) DEFAULT NULL COMMENT 'Total Volume',
  `quant_cur` varchar(10) DEFAULT NULL COMMENT 'Current Amount',
  `quant_thaws` int(3) unsigned NOT NULL DEFAULT '0' COMMENT 'Number of Thaws',
  `shipped` enum('Yes','No') NOT NULL DEFAULT 'Yes' COMMENT 'Shipped',
  `specnotavail` enum('Yes','No') NOT NULL DEFAULT 'No' COMMENT 'Spec Not Avail',
  `quality` int(2) NOT NULL DEFAULT '1' COMMENT 'Shipment Condition',
  `status` int(2) NOT NULL DEFAULT '1' COMMENT 'Collect Status',
  `family` varchar(32) DEFAULT NULL COMMENT 'Sample Family',
  `copies` tinyint(2) NOT NULL DEFAULT '1' COMMENT 'Number of objects',
  `subdiv4` varchar(2) NOT NULL COMMENT 'Subdivision 4 Position',
  `subdiv5` varchar(2) NOT NULL COMMENT 'Subdivision 5 Position',
  `error_temp` int(2) NOT NULL DEFAULT '0',
  `error_label` int(2) NOT NULL DEFAULT '0',
  `error_volume` int(2) NOT NULL DEFAULT '0',
  `error_damage` int(2) NOT NULL DEFAULT '0',
  `error_delay` int(2) NOT NULL DEFAULT '0',
  `error_other` varchar(32) NOT NULL DEFAULT '0',
  `notes` text COMMENT 'Notes',
  `label_text` varchar(10) DEFAULT '' COMMENT 'text for label',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_uuid` (`id_uuid`),
  KEY `id_batch` (`id_batch`),
  KEY `id_subject` (`id_subject`),
  KEY `id_parent` (`id_parent`),
  KEY `id_study` (`id_study`),
  KEY `sample_source` (`sample_source`),
  KEY `id_encounter` (`id_encounter`),
  KEY `collection_time` (`collection_time`),
  KEY `treatment` (`treatment`),
  KEY `sample_name` (`sample_name`),
  KEY `sample_collos_id` (`sample_collos_id`),
  KEY `sample_identifier` (`sample_identifier`)
) ENGINE=MyISAM AUTO_INCREMENT=73876128 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `behavior`
--

DROP TABLE IF EXISTS `behavior`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `behavior` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `id_study` varchar(32) DEFAULT NULL,
  `task` varchar(32) DEFAULT NULL,
  `id_behavior_header` int(8) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=280 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `behavior_header`
--

DROP TABLE IF EXISTS `behavior_header`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `behavior_header` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `name` varchar(32) DEFAULT NULL,
  `function` varchar(32) DEFAULT NULL,
  `autoexecute` tinyint(1) NOT NULL DEFAULT '0',
  `description` text,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `crf`
--

DROP TABLE IF EXISTS `crf`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `crf` (
  `type` varchar(16) NOT NULL DEFAULT 'tube' COMMENT 'object type',
  `sample_type` varchar(32) NOT NULL COMMENT 'Sample Type',
  `shipment_type` varchar(30) NOT NULL COMMENT 'Shipment Type',
  `description` text NOT NULL,
  `volume` int(4) DEFAULT NULL COMMENT 'Default Volume',
  `quantity` varchar(2) NOT NULL,
  `copies` int(2) NOT NULL DEFAULT '1' COMMENT 'how many copies to print',
  `id_study` varchar(16) NOT NULL COMMENT 'study name',
  `family` varchar(16) NOT NULL COMMENT 'Batch Family',
  `collect_type` int(2) DEFAULT NULL,
  `num_order` int(2) NOT NULL,
  `id` int(32) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=412 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `data_structure`
--

DROP TABLE IF EXISTS `data_structure`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `data_structure` (
  `id` int(2) NOT NULL AUTO_INCREMENT,
  `order` varchar(36) NOT NULL COMMENT 'Order By',
  `id_study` varchar(12) NOT NULL DEFAULT 'Study',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `distro`
--

DROP TABLE IF EXISTS `distro`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `distro` (
  `id_study` varchar(32) DEFAULT NULL COMMENT 'Study Name',
  `sample_type` varchar(20) DEFAULT NULL COMMENT 'Sample Type',
  `shipment_type` varchar(20) DEFAULT 'LOCAL' COMMENT 'Shipment Type',
  `id_visit` varchar(20) DEFAULT NULL COMMENT 'Visit #',
  `subject` varchar(16) DEFAULT '0' COMMENT 'Participant ID',
  `quant` varchar(10) DEFAULT NULL COMMENT 'Current Amount',
  `total` bigint(21) NOT NULL DEFAULT '0',
  `tcl_1` decimal(23,0) DEFAULT NULL,
  `tcl_2` decimal(23,0) DEFAULT NULL,
  `niddk` decimal(23,0) DEFAULT NULL,
  KEY `subject` (`subject`),
  KEY `id_study` (`id_study`),
  KEY `id_visit` (`id_visit`),
  KEY `shipment_type` (`shipment_type`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `distro_by_site`
--

DROP TABLE IF EXISTS `distro_by_site`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `distro_by_site` (
  `total` bigint(21) NOT NULL DEFAULT '0',
  `id_study` varchar(32) DEFAULT NULL COMMENT 'Study Name',
  `sample_type` varchar(20) DEFAULT NULL COMMENT 'Sample Type',
  `id_visit` varchar(20) DEFAULT NULL COMMENT 'Visit #',
  `shipment_type` varchar(20) DEFAULT 'LOCAL' COMMENT 'Shipment Type',
  `tcl_1` decimal(23,0) DEFAULT NULL,
  `tcl_2` decimal(23,0) DEFAULT NULL,
  `niddk` decimal(23,0) DEFAULT NULL,
  `quant` varchar(10) DEFAULT NULL COMMENT 'Current Amount'
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `filters`
--

DROP TABLE IF EXISTS `filters`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `filters` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `id_study` varchar(32) NOT NULL,
  `id_param` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `id_study` (`id_study`),
  KEY `id_param` (`id_param`)
) ENGINE=MyISAM AUTO_INCREMENT=1663 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `items`
--

DROP TABLE IF EXISTS `items`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `items` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT,
  `id_uuid` varchar(64) NOT NULL COMMENT 'uuid',
  `id_alq` varchar(32) DEFAULT NULL COMMENT 'Unique Aliquot ID',
  `id_guaid` varchar(32) DEFAULT NULL COMMENT 'Globally Unique Aliquot ID',
  `id_gusid` varchar(32) DEFAULT NULL COMMENT 'Globally Unique Sample ID',
  `id_barcode` varchar(12) DEFAULT NULL COMMENT 'Alternate Barode',
  `id_study` varchar(32) DEFAULT NULL COMMENT 'Study Name',
  `id_subject` varchar(64) DEFAULT '0' COMMENT 'Participant ID',
  `id_ancillary` varchar(32) DEFAULT '' COMMENT 'Ancillary ID',
  `id_visit` varchar(20) DEFAULT NULL COMMENT 'Visit #',
  `id_parent` varchar(64) NOT NULL DEFAULT '0' COMMENT 'UUID of parent',
  `id_batch` varchar(64) NOT NULL COMMENT 'batch uuid',
  `id_encounter` varchar(36) DEFAULT NULL COMMENT 'Encounter UUID',
  `hemolyzation` enum('unknown','none','partial','full') NOT NULL DEFAULT 'unknown',
  `unit` int(2) DEFAULT NULL COMMENT 'size of box or postition',
  `divY` int(2) DEFAULT NULL,
  `divX` int(2) DEFAULT NULL,
  `type` enum('tube','box','rack','shelf','freezer','paper','unassigned') NOT NULL DEFAULT 'tube' COMMENT 'Object Type',
  `alq_num` varchar(10) DEFAULT NULL COMMENT 'Aliquot Number',
  `alq_num2` int(6) unsigned DEFAULT NULL COMMENT 'aliquot no',
  `alq_pos` varchar(10) DEFAULT NULL COMMENT 'aliquot pos',
  `alq_tot` int(3) DEFAULT NULL COMMENT 'Number of Aliquots Total',
  `alq_wpos` int(3) DEFAULT NULL COMMENT 'Number of Aliquots with Positions',
  `date_collection` date DEFAULT NULL COMMENT 'collection date',
  `date_ship` date NOT NULL COMMENT 'Ship Date',
  `date_create` date DEFAULT NULL COMMENT 'Aliquot Creation Date',
  `date_freeze` date DEFAULT NULL COMMENT 'Freeze Date',
  `date_receipt` date DEFAULT NULL COMMENT 'Received Date',
  `date_sam_create` date DEFAULT NULL COMMENT 'Sample Creation Date',
  `time_sam_create` time DEFAULT NULL COMMENT 'Sample Creation Time',
  `date_trans` varchar(32) DEFAULT NULL COMMENT 'Transaction Date',
  `date_visit` date DEFAULT NULL COMMENT 'Visit Date',
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'timestamp',
  `name_created` varchar(20) DEFAULT NULL COMMENT 'Created By Name',
  `name_owner` varchar(20) DEFAULT NULL COMMENT 'Owner Name',
  `name_last_updated` varchar(20) NOT NULL,
  `name_shipper` varchar(32) DEFAULT NULL COMMENT 'Shipped By',
  `quant_cur_tot` varchar(6) DEFAULT NULL COMMENT 'Total Current Amount',
  `quant_cur` varchar(10) DEFAULT NULL COMMENT 'Current Amount',
  `quant_init` varchar(32) DEFAULT NULL COMMENT 'Initial Amount',
  `quant_thaws` int(3) unsigned NOT NULL DEFAULT '0' COMMENT 'Number of Thaws',
  `sample_type` varchar(20) DEFAULT NULL COMMENT 'Sample Type',
  `sample_identifier` varchar(256) DEFAULT NULL COMMENT 'Sample Identifier',
  `sample_collos_id` varchar(256) DEFAULT NULL COMMENT 'Sample Name',
  `sample_name` varchar(256) DEFAULT NULL COMMENT 'Sample Name',
  `collection_time` varchar(256) DEFAULT NULL COMMENT 'Collection Timepoint',
  `treatment` varchar(256) DEFAULT NULL COMMENT 'Treatment',
  `sample_source` varchar(64) DEFAULT NULL COMMENT 'Anatomical Source',
  `sample_type2` varchar(20) DEFAULT NULL COMMENT 'Sample Type 2',
  `shipment_type` varchar(20) DEFAULT 'LOCAL' COMMENT 'Shipment Type',
  `test_type` varchar(32) DEFAULT NULL COMMENT 'Test Type',
  `destination` varchar(20) NOT NULL COMMENT 'Destination Lab',
  `seq` int(8) DEFAULT NULL COMMENT 'Sequence Number',
  `seq_box` int(3) DEFAULT NULL COMMENT 'Box Sequence Number',
  `transaction` varchar(32) DEFAULT NULL COMMENT 'Transaction Activity',
  `share` binary(1) NOT NULL DEFAULT '1',
  `comment1` varchar(512) DEFAULT NULL COMMENT 'Comments',
  `comment2` text COMMENT 'Notes',
  `comment3` varchar(32) DEFAULT NULL COMMENT 'Comments 2',
  `comment_trans` varchar(32) DEFAULT NULL COMMENT 'Transaction Notes',
  `id_barcode2` varchar(9) DEFAULT NULL,
  `consumed` binary(1) NOT NULL DEFAULT '0',
  `errorflag` enum('Normal','Date Mismatch','Label Error','destroy','duplinear') NOT NULL DEFAULT 'Normal' COMMENT 'QC Flag',
  `stressed` binary(1) NOT NULL DEFAULT '0' COMMENT 'sample was stressed by environment',
  `archived` binary(1) NOT NULL DEFAULT '0' COMMENT 'item no longer exists',
  `label_text` varchar(10) DEFAULT '' COMMENT 'text for label',
  `notes` text COMMENT 'Notes',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_uuid` (`id_uuid`),
  KEY `id_subject` (`id_subject`),
  KEY `id_barcode` (`id_barcode`),
  KEY `sample_type` (`sample_type`),
  KEY `id_visit` (`id_visit`),
  KEY `id_guaid` (`id_guaid`),
  KEY `id_gusid` (`id_gusid`),
  KEY `1d` (`id_uuid`(8)),
  KEY `id_barcode2` (`id_barcode2`),
  KEY `type` (`type`),
  KEY `type_study` (`type`,`id_study`(2)),
  KEY `id_subject_consumed` (`id_subject`,`consumed`),
  KEY `sample_source` (`sample_source`),
  KEY `id_encounter` (`id_encounter`),
  KEY `archived` (`archived`),
  KEY `collection_time` (`collection_time`),
  KEY `treatment` (`treatment`),
  KEY `sample_name` (`sample_name`),
  KEY `sample_collos_id` (`sample_collos_id`),
  KEY `sample_identifier` (`sample_identifier`)
) ENGINE=MyISAM AUTO_INCREMENT=2409701 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = '' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`tclab`@`localhost`*/ /*!50003 trigger trg_audititems before update on items
for each row
    BEGIN
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'id_uuid', OLD.id_uuid, NEW.id_uuid);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'id_alq', OLD.id_alq, NEW.id_alq);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'id_barcode', OLD.id_barcode, NEW.id_barcode);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'id_study', OLD.id_study, NEW.id_study);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'id_subject', OLD.id_subject, NEW.id_subject);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'id_ancillary', OLD.id_ancillary, NEW.id_ancillary);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'id_visit', OLD.id_visit, NEW.id_visit);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'id_parent', OLD.id_parent, NEW.id_parent);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'hemolyzation', OLD.hemolyzation, NEW.hemolyzation);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'unit', OLD.unit, NEW.unit);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'divY', OLD.divY, NEW.divY);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'divX', OLD.divX, NEW.divX);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'type', OLD.type, NEW.type);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'alq_num', OLD.alq_num, NEW.alq_num);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'alq_num2', OLD.alq_num2, NEW.alq_num2);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'alq_pos', OLD.alq_pos, NEW.alq_pos);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'alq_tot', OLD.alq_tot, NEW.alq_tot);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'alq_wpos', OLD.alq_wpos, NEW.alq_wpos);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'date_collection', OLD.date_collection, NEW.date_collection);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'date_create', OLD.date_create, NEW.date_create);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'date_freeze', OLD.date_freeze, NEW.date_freeze);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'date_receipt', OLD.date_receipt, NEW.date_receipt);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'date_sam_create', OLD.date_sam_create, NEW.date_sam_create);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'time_sam_create', OLD.time_sam_create, NEW.time_sam_create);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'date_trans', OLD.date_trans, NEW.date_trans);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'date_visit', OLD.date_visit, NEW.date_visit);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'name_created', OLD.name_created, NEW.name_created);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'name_owner', OLD.name_owner, NEW.name_owner);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'name_last_updated', OLD.name_last_updated, NEW.name_last_updated);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'name_shipper', OLD.name_shipper, NEW.name_shipper);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'quant_cur_tot', OLD.quant_cur_tot, NEW.quant_cur_tot);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'quant_cur', OLD.quant_cur, NEW.quant_cur);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'quant_init', OLD.quant_init, NEW.quant_init);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'quant_thaws', OLD.quant_thaws, NEW.quant_thaws);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'sample_type', OLD.sample_type, NEW.sample_type);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'sample_type2', OLD.sample_type2, NEW.sample_type2);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'shipment_type', OLD.shipment_type, NEW.shipment_type);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'test_type', OLD.test_type, NEW.test_type);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'destination', OLD.destination, NEW.destination);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'seq', OLD.seq, NEW.seq);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'seq_box', OLD.seq_box, NEW.seq_box);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'transaction', OLD.transaction, NEW.transaction);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'share', OLD.share, NEW.share);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'comment1', substr(OLD.comment1, 1, 64), substr(NEW.comment1, 1, 64));
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'comment2', substr(OLD.comment2, 1, 64), substr(NEW.comment2, 1, 64));
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'comment3', OLD.comment3, NEW.comment3);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'id_barcode2', OLD.id_barcode2, NEW.id_barcode2);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'consumed', OLD.consumed, NEW.consumed);
        call proc_audititems(NEW.id, NEW.name_last_updated, 'update', 'errorflag', OLD.errorflag, NEW.errorflag);
    END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Temporary table structure for view `items_locations`
--

DROP TABLE IF EXISTS `items_locations`;
/*!50001 DROP VIEW IF EXISTS `items_locations`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE TABLE `items_locations` (
  `items_id_study` tinyint NOT NULL,
  `items_quant_cur` tinyint NOT NULL,
  `items_sample_type` tinyint NOT NULL,
  `items_shipment_type` tinyint NOT NULL,
  `items_date_visit` tinyint NOT NULL,
  `items_unit` tinyint NOT NULL,
  `items_divY` tinyint NOT NULL,
  `items_divX` tinyint NOT NULL,
  `items_id` tinyint NOT NULL,
  `items_id_uuid` tinyint NOT NULL,
  `items_type` tinyint NOT NULL,
  `items_id_barcode2` tinyint NOT NULL,
  `locations_id` tinyint NOT NULL,
  `locations_subdiv4` tinyint NOT NULL,
  `locations_subdiv5` tinyint NOT NULL,
  `items1_id` tinyint NOT NULL,
  `items1_id_uuid` tinyint NOT NULL,
  `items1_type` tinyint NOT NULL,
  `items1_id_barcode2` tinyint NOT NULL,
  `locations1_id` tinyint NOT NULL,
  `items2_id` tinyint NOT NULL,
  `items2_id_uuid` tinyint NOT NULL,
  `items2_type` tinyint NOT NULL,
  `items2_id_barcode2` tinyint NOT NULL,
  `locations2_id` tinyint NOT NULL,
  `items3_id` tinyint NOT NULL,
  `items3_id_uuid` tinyint NOT NULL,
  `items3_type` tinyint NOT NULL,
  `items3_id_barcode2` tinyint NOT NULL,
  `locations3_id` tinyint NOT NULL,
  `freezer` tinyint NOT NULL,
  `locations_subdiv1` tinyint NOT NULL,
  `locations_subdiv2` tinyint NOT NULL,
  `locations_subdiv3` tinyint NOT NULL
) ENGINE=MyISAM */;
SET character_set_client = @saved_cs_client;

--
-- Table structure for table `labs`
--

DROP TABLE IF EXISTS `labs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `labs` (
  `ID` int(4) NOT NULL AUTO_INCREMENT,
  `lab` varchar(30) NOT NULL COMMENT 'Lab Name',
  `id_study` varchar(32) NOT NULL COMMENT 'Study Name',
  `description` text NOT NULL,
  `order` int(2) NOT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=MyISAM AUTO_INCREMENT=17 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `labstruct`
--

DROP TABLE IF EXISTS `labstruct`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `labstruct` (
  `id` int(6) unsigned NOT NULL AUTO_INCREMENT,
  `type` enum('freezer','printer','lab') NOT NULL,
  `model` varchar(16) DEFAULT NULL,
  `name` varchar(32) NOT NULL,
  `url` varchar(128) NOT NULL COMMENT 'URL',
  `div1` int(2) DEFAULT '0',
  `div2` int(2) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=21 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `locations`
--

DROP TABLE IF EXISTS `locations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `locations` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT,
  `id_item` int(8) unsigned NOT NULL DEFAULT '0' COMMENT 'cric/items/id',
  `id_container` int(8) unsigned NOT NULL DEFAULT '0' COMMENT 'cric/items/id',
  `id_site` int(1) DEFAULT NULL COMMENT 'location',
  `freezer` varchar(32) DEFAULT NULL COMMENT 'Freezer Name',
  `subdiv1` varchar(2) DEFAULT NULL COMMENT 'Subdivision 1 Position',
  `subdiv2` varchar(2) DEFAULT NULL COMMENT 'Subdivision 2 Position',
  `subdiv3` varchar(2) DEFAULT NULL COMMENT 'Subdivision 3 Position',
  `subdiv4` varchar(2) DEFAULT NULL COMMENT 'Subdivision 4 Position',
  `subdiv5` varchar(2) DEFAULT NULL COMMENT 'Subdivision 5 Position',
  `destination` varchar(20) NOT NULL COMMENT 'Destination Lab',
  `date_moved` date DEFAULT NULL COMMENT 'Moved Date',
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `name_created` varchar(20) NOT NULL COMMENT 'moved by user',
  PRIMARY KEY (`id`),
  KEY `id_container` (`id_container`),
  KEY `id_item` (`id_item`),
  KEY `freezer` (`freezer`),
  KEY `subdiv1` (`subdiv1`),
  KEY `date_moved` (`date_moved`),
  KEY `date_moved_freezer` (`date_moved`,`freezer`),
  KEY `destination` (`destination`),
  KEY `id_item_date_moved` (`id_item`,`date_moved`),
  KEY `date_moved_container` (`date_moved`,`id_container`)
) ENGINE=MyISAM AUTO_INCREMENT=3261308 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `log_cohort`
--

DROP TABLE IF EXISTS `log_cohort`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `log_cohort` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `id_item` int(8) NOT NULL,
  `timestamp` datetime NOT NULL,
  `user_name` varchar(20) NOT NULL,
  `event_type` varchar(20) NOT NULL,
  `field` varchar(64) NOT NULL,
  `old_value` varchar(64) NOT NULL,
  `new_value` varchar(64) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `id_item` (`id_item`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `log_items`
--

DROP TABLE IF EXISTS `log_items`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `log_items` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `id_item` int(8) NOT NULL,
  `timestamp` datetime NOT NULL,
  `user_name` varchar(20) NOT NULL,
  `event_type` varchar(20) NOT NULL,
  `field` varchar(64) NOT NULL,
  `old_value` varchar(64) DEFAULT NULL,
  `new_value` varchar(64) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `id_item` (`id_item`)
) ENGINE=InnoDB AUTO_INCREMENT=3035508 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `log_pull_header`
--

DROP TABLE IF EXISTS `log_pull_header`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `log_pull_header` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `id_pull_header` int(8) NOT NULL,
  `timestamp` datetime NOT NULL,
  `user_name` varchar(20) NOT NULL,
  `event_type` varchar(20) NOT NULL,
  `field` varchar(64) NOT NULL,
  `old_value` varchar(64) DEFAULT NULL,
  `new_value` varchar(64) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `id_pull_header` (`id_pull_header`)
) ENGINE=InnoDB AUTO_INCREMENT=455 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `log_rc_cohort`
--

DROP TABLE IF EXISTS `log_rc_cohort`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `log_rc_cohort` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `id_item` int(8) NOT NULL,
  `timestamp` datetime NOT NULL,
  `user_name` varchar(20) NOT NULL,
  `event_type` varchar(20) NOT NULL,
  `field` varchar(64) NOT NULL,
  `old_value` varchar(64) NOT NULL,
  `new_value` varchar(64) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `id_item` (`id_item`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `log_results`
--

DROP TABLE IF EXISTS `log_results`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `log_results` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `id_result` int(8) NOT NULL,
  `timestamp` datetime NOT NULL,
  `user_name` varchar(20) NOT NULL,
  `event_type` varchar(20) NOT NULL,
  `field` varchar(64) NOT NULL,
  `old_value` varchar(64) DEFAULT NULL,
  `new_value` varchar(64) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `id_result` (`id_result`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `orders`
--

DROP TABLE IF EXISTS `orders`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `orders` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `id_item` int(8) unsigned DEFAULT NULL,
  `id_mrn` varchar(50) DEFAULT NULL,
  `id_acc` varchar(50) DEFAULT NULL,
  `lab` enum('tcl','pepper') NOT NULL DEFAULT 'tcl',
  `id_rungroup` varchar(50) DEFAULT NULL,
  `id_uuid` varchar(64) DEFAULT NULL,
  `uuid_parent` varchar(64) DEFAULT NULL,
  `id_barcode` varchar(64) DEFAULT NULL,
  `id_subject` varchar(12) DEFAULT NULL,
  `id_study` varchar(8) DEFAULT NULL COMMENT 'Study ID',
  `id_visit` varchar(16) DEFAULT NULL COMMENT 'Visit #',
  `date_visit` date DEFAULT NULL COMMENT 'Visit Date',
  `sample_type` varchar(34) DEFAULT NULL,
  `id_assay` varchar(50) DEFAULT NULL,
  `fulfilled` tinyint(1) NOT NULL,
  `user` varchar(20) DEFAULT NULL,
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `name_last_updated` varchar(20) DEFAULT '' COMMENT 'last updated by user',
  PRIMARY KEY (`id`),
  KEY `id_item` (`id_item`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `params`
--

DROP TABLE IF EXISTS `params`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `params` (
  `id` int(4) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `param` varchar(32) NOT NULL,
  `value` varchar(32) NOT NULL,
  `description` varchar(128) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `param` (`param`),
  KEY `value` (`value`)
) ENGINE=MyISAM AUTO_INCREMENT=1001 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `print_devices`
--

DROP TABLE IF EXISTS `print_devices`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `print_devices` (
  `id` int(3) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `name` varchar(64) NOT NULL COMMENT 'Printer Name',
  `location` varchar(64) NOT NULL COMMENT 'Printer Location',
  `make` varchar(32) CHARACTER SET utf8 NOT NULL DEFAULT '',
  `model` varchar(32) NOT NULL,
  `connection` varchar(16) NOT NULL,
  `ip` varchar(15) NOT NULL COMMENT 'IP Address',
  `labels_per_row` int(1) unsigned NOT NULL DEFAULT '1' COMMENT 'Number of labels per row',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=20 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `print_filter`
--

DROP TABLE IF EXISTS `print_filter`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `print_filter` (
  `print_dev_id` int(3) NOT NULL DEFAULT '0' COMMENT 'ID',
  `study_id` varchar(16) DEFAULT NULL COMMENT 'Study Name'
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `print_spool`
--

DROP TABLE IF EXISTS `print_spool`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `print_spool` (
  `id` int(16) NOT NULL AUTO_INCREMENT,
  `num_labels` int(11) NOT NULL,
  `total` int(11) NOT NULL,
  `print_dev_id` int(3) NOT NULL,
  `username` varchar(20) DEFAULT NULL,
  `status` varchar(32) NOT NULL DEFAULT 'init',
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=48 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `printers`
--

DROP TABLE IF EXISTS `printers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `printers` (
  `id` int(3) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `printer_name` varchar(64) NOT NULL COMMENT 'Printer Name',
  `id_study` varchar(16) NOT NULL COMMENT 'Study Name',
  `location` varchar(64) NOT NULL COMMENT 'Printer Location',
  `ip` varchar(15) NOT NULL COMMENT 'IP Address',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=66 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `printjobs`
--

DROP TABLE IF EXISTS `printjobs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `printjobs` (
  `id` int(16) NOT NULL AUTO_INCREMENT,
  `printer_name` varchar(64) DEFAULT NULL,
  `username` varchar(20) DEFAULT NULL,
  `status` varchar(32) NOT NULL DEFAULT 'init',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `process_header`
--

DROP TABLE IF EXISTS `process_header`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `process_header` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT,
  `id_study` varchar(32) NOT NULL,
  `name` varchar(32) NOT NULL,
  `description` text,
  `type` varchar(16) DEFAULT NULL,
  `status` enum('active','inactive') NOT NULL DEFAULT 'active',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`,`id_study`)
) ENGINE=InnoDB AUTO_INCREMENT=60 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `process_log`
--

DROP TABLE IF EXISTS `process_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `process_log` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `id_uuid` varchar(64) NOT NULL,
  `id_process_header` int(8) unsigned NOT NULL,
  `comment` varchar(64) NOT NULL,
  `username` varchar(20) NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Process Timestamp',
  PRIMARY KEY (`id`),
  KEY `id_uuid` (`id_uuid`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `process_notes`
--

DROP TABLE IF EXISTS `process_notes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `process_notes` (
  `id` int(8) NOT NULL,
  `id_process_log` int(8) NOT NULL COMMENT 'Process Log ID',
  `notes` text NOT NULL COMMENT 'Process Notes',
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Notes Timestamp',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_process_log` (`id_process_log`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `process_params`
--

DROP TABLE IF EXISTS `process_params`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `process_params` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT,
  `process_header_id` int(8) unsigned NOT NULL,
  `params_id` int(8) unsigned NOT NULL,
  `type` enum('input','output') NOT NULL,
  PRIMARY KEY (`id`),
  KEY `process_header_id` (`process_header_id`,`params_id`)
) ENGINE=InnoDB AUTO_INCREMENT=448 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `project_header`
--

DROP TABLE IF EXISTS `project_header`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `project_header` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT,
  `id_study` varchar(32) DEFAULT NULL COMMENT 'Study Name',
  `name` varchar(32) DEFAULT NULL,
  `description` text,
  `status` varchar(16) DEFAULT NULL COMMENT 'task status',
  `start_date` date DEFAULT NULL COMMENT 'start of project',
  `end_date` date DEFAULT NULL COMMENT 'end of project',
  `task` varchar(16) DEFAULT NULL COMMENT 'task name',
  PRIMARY KEY (`id`),
  KEY `name` (`name`),
  KEY `task` (`task`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `project_params`
--

DROP TABLE IF EXISTS `project_params`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `project_params` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `id_project_header` int(8) NOT NULL,
  `id_param` int(8) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `id_param` (`id_param`),
  KEY `id_project_header` (`id_project_header`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `publish`
--

DROP TABLE IF EXISTS `publish`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `publish` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `creator` varchar(32) NOT NULL COMMENT 'Created By',
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'Create Date',
  `description` longtext NOT NULL COMMENT 'Description',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=608 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pull_group`
--

DROP TABLE IF EXISTS `pull_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pull_group` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `group_name` varchar(64) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=23 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pull_header`
--

DROP TABLE IF EXISTS `pull_header`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pull_header` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT,
  `pull_name` varchar(64) NOT NULL,
  `pull_description` varchar(64) NOT NULL,
  `pull_status` enum('active','disabled','complete','ongoing') NOT NULL DEFAULT 'active',
  `cceb_share` tinyint(1) NOT NULL DEFAULT '0',
  `tubes_per_request` int(11) NOT NULL DEFAULT '1',
  `update_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `name_last_updated` varchar(20) NOT NULL,
  `id_subject_status` enum('unused','static','dynamic','display') NOT NULL DEFAULT 'unused',
  `id_subject_value` varchar(64) NOT NULL,
  `sample_type_status` enum('unused','static','dynamic','display') NOT NULL DEFAULT 'unused',
  `sample_type_value` varchar(20) NOT NULL,
  `sample_type_value2` varchar(20) NOT NULL,
  `shipment_type_status` enum('unused','static','dynamic','display') NOT NULL DEFAULT 'unused',
  `shipment_type_value` varchar(20) NOT NULL,
  `id_study_status` enum('unused','static','dynamic','display') NOT NULL DEFAULT 'unused',
  `id_study_value` varchar(32) NOT NULL,
  `date_visit_status` enum('unused','static','dynamic','display') NOT NULL DEFAULT 'unused',
  `date_visit_value` date NOT NULL,
  `date_visit_range` int(8) NOT NULL,
  `id_visit_status` enum('unused','static','dynamic','display') NOT NULL DEFAULT 'unused',
  `id_visit_value` varchar(20) NOT NULL,
  `quant_thaws_status` enum('unused','static','dynamic','display') NOT NULL DEFAULT 'unused',
  `quant_thaws_value` int(3) NOT NULL,
  `quant_thaws_max` int(3) NOT NULL,
  `quant_cur_status` enum('unused','static','dynamic','display') NOT NULL,
  `quant_cur_value` decimal(6,3) NOT NULL,
  `quant_cur_max` decimal(6,3) DEFAULT NULL,
  `alq_num_status` enum('unused','static','dynamic','display') NOT NULL DEFAULT 'unused',
  `alq_num_value` varchar(10) NOT NULL,
  `id_uuid_status` enum('unused','static','dynamic','display') NOT NULL DEFAULT 'unused',
  `id_uuid_value` varchar(64) NOT NULL,
  `box_destination_status` enum('unused','static','dynamic') NOT NULL DEFAULT 'unused',
  `box_destination_value` varchar(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `cceb_share_id` (`cceb_share`,`id`)
) ENGINE=MyISAM AUTO_INCREMENT=214 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = '' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`tclab`@`localhost`*/ /*!50003 trigger trg_auditpull_header before update on pull_header
for each row
    BEGIN
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'pull_name', OLD.pull_name, NEW.pull_name);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'pull_description', OLD.pull_description, NEW.pull_description);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'pull_status', OLD.pull_status, NEW.pull_status);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'cceb_share', OLD.cceb_share, NEW.cceb_share);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'tubes_per_request', OLD.tubes_per_request, NEW.tubes_per_request);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'id_subject_status', OLD.id_subject_status, NEW.id_subject_status);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'id_subject_value', OLD.id_subject_value, NEW.id_subject_value);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'sample_type_status', OLD.sample_type_status, NEW.sample_type_status);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'sample_type_value', OLD.sample_type_value, NEW.sample_type_value);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'sample_type_value2', OLD.sample_type_value2, NEW.sample_type_value2);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'shipment_type_status', OLD.shipment_type_status, NEW.shipment_type_status);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'shipment_type_value', OLD.shipment_type_value, NEW.shipment_type_value);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'id_study_status', OLD.id_study_status, NEW.id_study_status);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'id_study_value', OLD.id_study_value, NEW.id_study_value);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'date_visit_status', OLD.date_visit_status, NEW.date_visit_status);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'date_visit_value', OLD.date_visit_value, NEW.date_visit_value);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'date_visit_range', OLD.date_visit_range, NEW.date_visit_range);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'id_visit_status', OLD.id_visit_status, NEW.id_visit_status);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'id_visit_value', OLD.id_visit_value, NEW.id_visit_value);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'quant_thaws_status', OLD.quant_thaws_status, NEW.quant_thaws_status);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'quant_thaws_value', OLD.quant_thaws_value, NEW.quant_thaws_value);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'quant_thaws_max', OLD.quant_thaws_max, NEW.quant_thaws_max);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'alq_num_status', OLD.alq_num_status, NEW.alq_num_status);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'id_uuid_status', OLD.id_uuid_status, NEW.id_uuid_status);
        call proc_auditpull_header(NEW.id, NEW.name_last_updated, 'update', 'id_uuid_value', OLD.id_uuid_value, NEW.id_uuid_value);
    END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `pull_header_group`
--

DROP TABLE IF EXISTS `pull_header_group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pull_header_group` (
  `id_pull_header` int(8) NOT NULL,
  `id_pull_group` int(8) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pull_log`
--

DROP TABLE IF EXISTS `pull_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pull_log` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `id_uuid` varchar(64) NOT NULL,
  `item_id` int(8) unsigned NOT NULL,
  `item_type` varchar(24) NOT NULL,
  `scan_date` datetime NOT NULL,
  `labtech` varchar(20) NOT NULL,
  `response` varchar(64) NOT NULL,
  `comment` varchar(64) NOT NULL,
  `source_id_container` int(8) unsigned NOT NULL,
  `dest_id_container` int(8) unsigned NOT NULL,
  `id_pull_header` int(8) unsigned NOT NULL,
  `id_pull_requirements` int(8) unsigned NOT NULL,
  PRIMARY KEY (`id`),
  KEY `id_pull_header_id_uuid` (`id_pull_header`,`id_uuid`),
  KEY `id_pull_requirements` (`id_pull_requirements`)
) ENGINE=MyISAM AUTO_INCREMENT=88522 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pull_requirements`
--

DROP TABLE IF EXISTS `pull_requirements`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pull_requirements` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT,
  `id_pull_header` int(10) unsigned NOT NULL,
  `fufilled` tinyint(4) NOT NULL,
  `update_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `id_subject` varchar(64) NOT NULL,
  `sample_type` varchar(20) NOT NULL,
  `shipment_type` varchar(20) NOT NULL,
  `id_study` varchar(32) NOT NULL,
  `date_visit` date NOT NULL,
  `id_visit` varchar(20) NOT NULL,
  `quant_thaws` int(3) NOT NULL,
  `quant_cur` varchar(10) NOT NULL,
  `alq_num` varchar(10) NOT NULL,
  `id_uuid` varchar(64) NOT NULL,
  `box_destination` varchar(20) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `id_pull_header` (`id_pull_header`,`fufilled`,`id_subject`),
  KEY `id_pull_header_2` (`id_pull_header`,`fufilled`,`sample_type`),
  KEY `id_pull_header_3` (`id_pull_header`,`fufilled`,`id_visit`,`date_visit`),
  KEY `id_pull_header_4` (`id_pull_header`,`fufilled`,`id_subject`,`id_visit`,`date_visit`),
  KEY `pull_requirements_5` (`id_pull_header`,`id_subject`,`date_visit`,`id_visit`)
) ENGINE=MyISAM AUTO_INCREMENT=150517 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pull_requirements_backup`
--

DROP TABLE IF EXISTS `pull_requirements_backup`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pull_requirements_backup` (
  `id` int(8) unsigned NOT NULL DEFAULT '0',
  `id_pull_header` int(10) unsigned NOT NULL,
  `fufilled` tinyint(4) NOT NULL,
  `update_date` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `id_subject` varchar(16) NOT NULL,
  `sample_type` varchar(20) NOT NULL,
  `shipment_type` varchar(20) NOT NULL,
  `id_study` varchar(32) NOT NULL,
  `date_visit` date NOT NULL,
  `id_visit` varchar(20) NOT NULL,
  `quant_thaws` int(3) NOT NULL,
  `id_uuid` varchar(64) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `pull_specimens`
--

DROP TABLE IF EXISTS `pull_specimens`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pull_specimens` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT,
  `id_pull_requirements` int(8) unsigned NOT NULL,
  `id_uuid` varchar(64) NOT NULL,
  `id_item` int(8) unsigned NOT NULL,
  `scan_date` datetime NOT NULL,
  `scanned_by` varchar(24) NOT NULL,
  `source_box_id` int(8) unsigned NOT NULL,
  `source_box_subdiv4` varchar(2) NOT NULL,
  `source_box_subdiv5` varchar(2) NOT NULL,
  `dest_box_id` int(8) unsigned NOT NULL,
  `dest_box_subdiv4` varchar(2) NOT NULL,
  `dest_box_subdiv5` varchar(2) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `id_pull_requirement_id_uuid` (`id_pull_requirements`,`id_uuid`),
  KEY `id_uuid` (`id_uuid`)
) ENGINE=MyISAM AUTO_INCREMENT=84305 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `rc_cohort`
--

DROP TABLE IF EXISTS `rc_cohort`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `rc_cohort` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `id_study` varchar(32) NOT NULL,
  `id_subject` varchar(16) NOT NULL,
  `rc_collection_id` varchar(32) NOT NULL,
  `time_created` datetime NOT NULL,
  `name_last_updated` varchar(20) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = '' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`tclab`@`localhost`*/ /*!50003 TRIGGER `trig_auditrccohort` BEFORE UPDATE ON `rc_cohort` FOR EACH ROW BEGIN
        call proc_auditrccohort(NEW.id, NEW.name_last_updated, 'update', 'id_study', OLD.id_study, NEW.id_study);
        call proc_auditrccohort(NEW.id, NEW.name_last_updated, 'update', 'id_subject', OLD.id_subject, NEW.id_subject);
        call proc_auditrccohort(NEW.id, NEW.name_last_updated, 'update', 'rc_collection_id', OLD.rc_collection_id, NEW.rc_collection_id);
        call proc_auditrccohort(NEW.id, NEW.name_last_updated, 'update', 'time_created', OLD.time_created, NEW.time_created);
    END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `rc_params`
--

DROP TABLE IF EXISTS `rc_params`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `rc_params` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `id_study` varchar(32) NOT NULL,
  `rc_name` varchar(64) NOT NULL,
  `id_param` int(8) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=105 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `replicates`
--

DROP TABLE IF EXISTS `replicates`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `replicates` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT,
  `id_study` varchar(32) DEFAULT NULL COMMENT 'study id',
  `original` varchar(64) DEFAULT NULL COMMENT 'original id',
  `obscured` varchar(64) NOT NULL COMMENT 'masked id',
  `increment` int(2) NOT NULL DEFAULT '0' COMMENT 'date increment',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COMMENT='lookup for blinded replicates';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `results`
--

DROP TABLE IF EXISTS `results`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `results` (
  `id` int(9) unsigned NOT NULL AUTO_INCREMENT,
  `id_item` int(8) unsigned DEFAULT NULL,
  `id_results_raw` int(9) unsigned DEFAULT NULL COMMENT 'results_raw table id',
  `id_barcode` varchar(64) NOT NULL DEFAULT '0',
  `id_uuid` varchar(64) DEFAULT NULL COMMENT 'UUID',
  `id_subject` varchar(12) DEFAULT NULL,
  `id_study` varchar(8) DEFAULT NULL COMMENT 'Study ID',
  `id_lab` varchar(34) DEFAULT NULL,
  `id_instrument` varchar(16) DEFAULT NULL,
  `id_assay` varchar(32) DEFAULT NULL,
  `id_visit` varchar(16) DEFAULT NULL COMMENT 'Visit #',
  `id_rungroup` varchar(32) DEFAULT NULL,
  `id_retest` binary(1) NOT NULL DEFAULT '0' COMMENT 'is retest',
  `id_pull_header` int(8) unsigned DEFAULT NULL,
  `value` varchar(32) DEFAULT NULL,
  `units` varchar(8) NOT NULL COMMENT 'Units',
  `raw` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `cv` varchar(16) DEFAULT NULL,
  `datetime_assay` datetime DEFAULT NULL,
  `date_collection` date DEFAULT NULL COMMENT 'collection date',
  `date_visit` date DEFAULT NULL COMMENT 'Visit Date',
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `qc` tinyint(1) DEFAULT NULL,
  `uqc` enum('sample','control','standard') NOT NULL DEFAULT 'sample' COMMENT 'Universal QC',
  `reviewed` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Reviewed',
  `calibrator` int(7) DEFAULT NULL COMMENT 'calibrator lot number',
  `reagent` int(7) DEFAULT NULL COMMENT 'reagent lot number',
  `cleaner` int(7) DEFAULT NULL COMMENT 'cleaner lot number',
  `ignore` tinyint(1) NOT NULL DEFAULT '0',
  `share` tinyint(1) NOT NULL DEFAULT '0',
  `notes` text,
  `sample_type` varchar(34) DEFAULT NULL,
  `sample_identifier` varchar(256) DEFAULT NULL COMMENT 'Sample Identifier',
  `sample_collos_id` varchar(256) DEFAULT NULL COMMENT 'Sample Name',
  `sample_name` varchar(256) DEFAULT NULL COMMENT 'Sample Name',
  `collection_time` varchar(256) DEFAULT NULL COMMENT 'Collection Timepoint',
  `treatment` varchar(256) DEFAULT NULL COMMENT 'Treatment',
  `shipment_type` varchar(20) DEFAULT NULL,
  `name_last_updated` varchar(20) DEFAULT '' COMMENT 'last updated by user',
  PRIMARY KEY (`id`),
  KEY `cricid` (`id_subject`),
  KEY `id_barcode` (`id_barcode`),
  KEY `share` (`share`),
  KEY `id_assay` (`id_assay`),
  KEY `id_uuid` (`id_uuid`),
  KEY `uqc` (`uqc`),
  KEY `raw` (`raw`),
  KEY `shipment_type` (`shipment_type`),
  KEY `id_item` (`id_item`),
  KEY `collection_time` (`collection_time`),
  KEY `treatment` (`treatment`),
  KEY `sample_name` (`sample_name`),
  KEY `sample_collos_id` (`sample_collos_id`),
  KEY `sample_identifier` (`sample_identifier`)
) ENGINE=MyISAM AUTO_INCREMENT=1881985 DEFAULT CHARSET=latin1 COMMENT='CRIC lab data';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `results_raw`
--

DROP TABLE IF EXISTS `results_raw`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `results_raw` (
  `id` int(9) unsigned NOT NULL AUTO_INCREMENT,
  `id_assay` varchar(32) DEFAULT NULL,
  `assay_code` int(8) DEFAULT NULL,
  `id_barcode` varchar(64) NOT NULL DEFAULT '0',
  `id_uuid` varchar(64) DEFAULT NULL COMMENT 'UUID',
  `id_subject` varchar(32) DEFAULT 'unknown',
  `id_study` varchar(32) DEFAULT 'unknown' COMMENT 'Study ID',
  `id_lab` varchar(32) DEFAULT NULL,
  `id_instrument` varchar(16) DEFAULT NULL,
  `id_visit` varchar(16) DEFAULT NULL COMMENT 'Visit #',
  `sample_type` varchar(32) DEFAULT NULL,
  `sample_identifier` varchar(256) DEFAULT NULL COMMENT 'Sample Identifier',
  `sample_collos_id` varchar(256) DEFAULT NULL COMMENT 'Sample Name',
  `sample_name` varchar(256) DEFAULT NULL COMMENT 'Sample Name',
  `collection_time` varchar(256) DEFAULT NULL COMMENT 'Collection Timepoint',
  `treatment` varchar(256) DEFAULT NULL COMMENT 'Treatment',
  `shipment_type` varchar(20) DEFAULT NULL,
  `date_collection` date DEFAULT NULL COMMENT 'collection date',
  `date_visit` date NOT NULL COMMENT 'Visit Date',
  `id_rungroup` varchar(32) DEFAULT NULL,
  `project_name` varchar(32) DEFAULT NULL COMMENT 'Project Name',
  `id_retest` smallint(2) NOT NULL DEFAULT '0' COMMENT 'Retest Number',
  `name_plate` varchar(128) DEFAULT NULL,
  `position_plate` varchar(4) DEFAULT NULL COMMENT 'well position - assay plate',
  `layout_plate` varchar(8) DEFAULT NULL COMMENT 'well id - assay plate',
  `sequence_num` int(3) DEFAULT NULL COMMENT 'Sequence Number for Run',
  `barcode_source` varchar(64) DEFAULT NULL COMMENT 'unique id of source labware',
  `position_source` varchar(4) DEFAULT NULL COMMENT 'row column on source labware',
  `value` varchar(32) DEFAULT NULL COMMENT 'standard value',
  `value_1` varchar(32) DEFAULT NULL COMMENT 'duplicate 1',
  `value_2` varchar(32) DEFAULT NULL COMMENT 'duplicate 2',
  `cv` varchar(16) DEFAULT NULL COMMENT 'cv',
  `wavelength` varchar(6) DEFAULT NULL COMMENT 'wavelength',
  `dilution` decimal(9,3) DEFAULT NULL,
  `value_measured` varchar(32) DEFAULT NULL COMMENT 'raw measured value',
  `value_calculated` varchar(32) DEFAULT NULL COMMENT 'interpreted value',
  `units` varchar(8) NOT NULL COMMENT 'standard units',
  `units_measured` varchar(8) NOT NULL COMMENT 'Measured Units',
  `units_calculated` varchar(8) NOT NULL COMMENT 'Calculated Units',
  `datetime_assay` datetime DEFAULT NULL,
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `qc` tinyint(1) DEFAULT NULL,
  `uqc` enum('sample','control','standard') NOT NULL DEFAULT 'sample' COMMENT 'Universal QC',
  `reviewed` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Reviewed',
  `calibrator` varchar(16) DEFAULT NULL COMMENT 'calibrator lot number',
  `reagent` varchar(16) DEFAULT NULL COMMENT 'reagent lot number',
  `cleaner` varchar(16) DEFAULT NULL COMMENT 'cleaner lot number',
  `ignore` tinyint(1) NOT NULL DEFAULT '0',
  `share` tinyint(1) NOT NULL DEFAULT '0',
  `destination` varchar(32) DEFAULT NULL,
  `volumestatus` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Volume Status',
  `notes` text,
  `name_last_updated` varchar(20) DEFAULT '' COMMENT 'last updated by user',
  PRIMARY KEY (`id`),
  KEY `id_rungroup` (`id_rungroup`),
  KEY `id_uuid` (`id_uuid`),
  KEY `layout_plate` (`layout_plate`),
  KEY `shipment_type` (`shipment_type`),
  KEY `project_name` (`project_name`),
  KEY `collection_time` (`collection_time`),
  KEY `treatment` (`treatment`),
  KEY `sample_name` (`sample_name`),
  KEY `sample_collos_id` (`sample_collos_id`),
  KEY `sample_identifier` (`sample_identifier`)
) ENGINE=MyISAM AUTO_INCREMENT=313118 DEFAULT CHARSET=latin1 COMMENT='CRIC lab data';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `results_transfer_log`
--

DROP TABLE IF EXISTS `results_transfer_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `results_transfer_log` (
  `id_result` int(8) unsigned NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `date_transfer` date DEFAULT NULL,
  `site` int(6) unsigned NOT NULL DEFAULT '44',
  UNIQUE KEY `result_id` (`id_result`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `roles`
--

DROP TABLE IF EXISTS `roles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `roles` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT,
  `username` varchar(20) NOT NULL,
  `id_study` varchar(32) DEFAULT 'any',
  `role` varchar(32) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=299 DEFAULT CHARSET=latin1 COMMENT='allow user access to different parts of system';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sample_status`
--

DROP TABLE IF EXISTS `sample_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sample_status` (
  `id_subject` varchar(32) NOT NULL COMMENT 'Subject ID',
  `status` int(1) NOT NULL COMMENT 'Sample Status',
  `sample_type` varchar(32) NOT NULL COMMENT 'Sample Types',
  `id_visit` varchar(16) NOT NULL COMMENT 'Visit #',
  `id_study` varchar(32) NOT NULL COMMENT 'Study Name',
  `id` int(11) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `shipment_types`
--

DROP TABLE IF EXISTS `shipment_types`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `shipment_types` (
  `alias` varchar(32) NOT NULL,
  `shipment_type` varchar(32) NOT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `sites`
--

DROP TABLE IF EXISTS `sites`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sites` (
  `id` int(1) NOT NULL COMMENT 'ID',
  `name_site` varchar(32) NOT NULL COMMENT 'Site Name',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `snapshots`
--

DROP TABLE IF EXISTS `snapshots`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `snapshots` (
  `id` int(9) NOT NULL AUTO_INCREMENT,
  `id_subject` varchar(16) NOT NULL,
  `id_assay` varchar(32) NOT NULL,
  `id_visit` varchar(16) NOT NULL,
  `id_results` int(9) NOT NULL,
  `id_publish` int(6) NOT NULL,
  `billable` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `id_subject` (`id_subject`,`id_assay`,`id_results`),
  KEY `id_publish` (`id_publish`),
  KEY `id_visit` (`id_visit`),
  KEY `billable` (`billable`),
  KEY `id_results` (`id_results`)
) ENGINE=MyISAM AUTO_INCREMENT=2980805 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `split`
--

DROP TABLE IF EXISTS `split`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `split` (
  `sample_type` varchar(20) NOT NULL,
  `shipment_type` varchar(30) NOT NULL,
  `id_visit` varchar(20) NOT NULL COMMENT 'Visit #',
  `id_study` varchar(32) NOT NULL COMMENT 'study name',
  `destination` varchar(20) NOT NULL,
  `weight` int(2) NOT NULL,
  `max` int(2) DEFAULT NULL COMMENT 'Maximum',
  KEY `id_visit` (`id_visit`),
  KEY `sample_type` (`sample_type`),
  KEY `shipment_type` (`shipment_type`),
  KEY `weight` (`weight`),
  KEY `id_study` (`id_study`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `studies`
--

DROP TABLE IF EXISTS `studies`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `studies` (
  `id` int(4) NOT NULL AUTO_INCREMENT COMMENT 'ID',
  `id_study` varchar(32) NOT NULL COMMENT 'Study Name',
  `study_name` varchar(32) DEFAULT NULL,
  `id_irb` varchar(16) NOT NULL COMMENT 'IRB Number',
  `id_ctrc` varchar(16) NOT NULL COMMENT 'CTRC Protocol Number',
  `id_extdb_header` int(6) DEFAULT NULL COMMENT 'External Database Header ID',
  `pi` varchar(16) DEFAULT NULL,
  `autoassign_cohort` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'Autoassign a numeric id in cohort',
  `unique_linear_barcode` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'study uses a unique linear barcode',
  `devmode` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'enable BETA features',
  `group_by` enum('sample_type','id_subject') NOT NULL DEFAULT 'sample_type' COMMENT 'store samples grouped by',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_study` (`id_study`)
) ENGINE=MyISAM AUTO_INCREMENT=104 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `study_fields`
--

DROP TABLE IF EXISTS `study_fields`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `study_fields` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `id_study` varchar(16) NOT NULL,
  `order` int(3) DEFAULT '0' COMMENT 'field order',
  `field` varchar(16) NOT NULL,
  `read_group` varchar(16) NOT NULL DEFAULT 'lab',
  `write_group` varchar(16) NOT NULL DEFAULT 'lab',
  `id_param` int(8) DEFAULT NULL COMMENT 'Restrict display to param',
  PRIMARY KEY (`id`),
  UNIQUE KEY `field` (`field`,`id_study`,`id_param`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=latin1 COMMENT='Fields used within a study';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `subjects`
--

DROP TABLE IF EXISTS `subjects`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `subjects` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `id_subject` varchar(8) NOT NULL COMMENT 'Participant ID',
  `id_study` varchar(32) NOT NULL COMMENT 'Study ID',
  `gender` enum('M','F') DEFAULT NULL COMMENT 'Gender',
  `date_birth` date DEFAULT NULL COMMENT 'DOB',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=198 DEFAULT CHARSET=latin1 COMMENT='Subject Info';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `tracking`
--

DROP TABLE IF EXISTS `tracking`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tracking` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `site` varchar(8) NOT NULL,
  `tracking_number` varchar(64) NOT NULL,
  `handler` enum('fedex','ups','usps') NOT NULL,
  `delivery_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `tracking_number` (`tracking_number`),
  KEY `site` (`site`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `users`
--

DROP TABLE IF EXISTS `users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `users` (
  `id` int(8) NOT NULL AUTO_INCREMENT,
  `username` varchar(16) NOT NULL COMMENT 'Pennkey',
  `apikey` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `username` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=115 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `visitnum`
--

DROP TABLE IF EXISTS `visitnum`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `visitnum` (
  `id_study` varchar(16) NOT NULL,
  `id_visit` varchar(20) NOT NULL,
  `num_order` int(11) NOT NULL,
  KEY `id_study` (`id_study`),
  KEY `id_visit` (`id_visit`),
  KEY `id_study_2` (`id_study`,`id_visit`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Table structure for table `visits`
--

DROP TABLE IF EXISTS `visits`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `visits` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT,
  `id_subject` varchar(8) NOT NULL COMMENT 'Participant ID',
  `id_visit` varchar(8) NOT NULL COMMENT 'Visit Number',
  `id_study` varchar(8) NOT NULL COMMENT 'Study Name',
  `date_create` date NOT NULL COMMENT 'Date of Blood Draw',
  PRIMARY KEY (`id`),
  KEY `id_subject` (`id_subject`),
  KEY `id_visit` (`id_visit`),
  KEY `id_study` (`id_study`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1 COMMENT='Visit Log';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Temporary table structure for view `vwboxandlocations`
--

DROP TABLE IF EXISTS `vwboxandlocations`;
/*!50001 DROP VIEW IF EXISTS `vwboxandlocations`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE TABLE `vwboxandlocations` (
  `id` tinyint NOT NULL,
  `id_container` tinyint NOT NULL,
  `id_uuid` tinyint NOT NULL,
  `name_created` tinyint NOT NULL,
  `name_owner` tinyint NOT NULL,
  `name_shipper` tinyint NOT NULL,
  `id_study` tinyint NOT NULL,
  `id_subject` tinyint NOT NULL,
  `quant_init` tinyint NOT NULL,
  `quant_cur` tinyint NOT NULL,
  `sample_type` tinyint NOT NULL,
  `id_visit` tinyint NOT NULL,
  `date_collection` tinyint NOT NULL,
  `shipment_type` tinyint NOT NULL,
  `date_visit` tinyint NOT NULL,
  `unit` tinyint NOT NULL,
  `timestamp` tinyint NOT NULL,
  `divY` tinyint NOT NULL,
  `divX` tinyint NOT NULL,
  `items_destination` tinyint NOT NULL,
  `locations_destination` tinyint NOT NULL,
  `share` tinyint NOT NULL,
  `freezer` tinyint NOT NULL,
  `locations_id` tinyint NOT NULL,
  `subdiv` tinyint NOT NULL
) ENGINE=MyISAM */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `vwinventory`
--

DROP TABLE IF EXISTS `vwinventory`;
/*!50001 DROP VIEW IF EXISTS `vwinventory`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE TABLE `vwinventory` (
  `items_id_study` tinyint NOT NULL,
  `items_id_subject` tinyint NOT NULL,
  `items_id_visit` tinyint NOT NULL,
  `items_date_visit` tinyint NOT NULL,
  `items_date_receipt` tinyint NOT NULL,
  `items_sample_type` tinyint NOT NULL,
  `items_shipment_type` tinyint NOT NULL,
  `items_destination` tinyint NOT NULL,
  `items_id` tinyint NOT NULL,
  `items_id_uuid` tinyint NOT NULL,
  `items_type` tinyint NOT NULL,
  `items_box_id` tinyint NOT NULL,
  `items_comment1` tinyint NOT NULL,
  `items_rack_id` tinyint NOT NULL,
  `items_shelf_id` tinyint NOT NULL,
  `freezer` tinyint NOT NULL,
  `locations_subdiv1` tinyint NOT NULL,
  `locations_subdiv2` tinyint NOT NULL,
  `locations_subdiv3` tinyint NOT NULL,
  `locations_subdiv4` tinyint NOT NULL,
  `locations_subdiv5` tinyint NOT NULL
) ENGINE=MyISAM */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `vwitemsandlocations`
--

DROP TABLE IF EXISTS `vwitemsandlocations`;
/*!50001 DROP VIEW IF EXISTS `vwitemsandlocations`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE TABLE `vwitemsandlocations` (
  `consumed` tinyint NOT NULL,
  `items_id_study` tinyint NOT NULL,
  `items_id_subject` tinyint NOT NULL,
  `items_quant_init` tinyint NOT NULL,
  `items_quant_cur` tinyint NOT NULL,
  `items_sample_type` tinyint NOT NULL,
  `items_id_visit` tinyint NOT NULL,
  `items_date_collection` tinyint NOT NULL,
  `items_shipment_type` tinyint NOT NULL,
  `items_date_visit` tinyint NOT NULL,
  `items_unit` tinyint NOT NULL,
  `items_timestamp` tinyint NOT NULL,
  `items_divY` tinyint NOT NULL,
  `items_divX` tinyint NOT NULL,
  `items_destination` tinyint NOT NULL,
  `items_share` tinyint NOT NULL,
  `items_id` tinyint NOT NULL,
  `items_id_uuid` tinyint NOT NULL,
  `items_type` tinyint NOT NULL,
  `items_id_barcode2` tinyint NOT NULL,
  `locations_id` tinyint NOT NULL,
  `items_box_id` tinyint NOT NULL,
  `items_box_id_uuid` tinyint NOT NULL,
  `items_box_type` tinyint NOT NULL,
  `items_box_id_barcode2` tinyint NOT NULL,
  `locations_box_id` tinyint NOT NULL,
  `items_rack_id` tinyint NOT NULL,
  `items_rack_id_uuid` tinyint NOT NULL,
  `items_rack_type` tinyint NOT NULL,
  `items_rack_id_barcode2` tinyint NOT NULL,
  `locations_rack_id` tinyint NOT NULL,
  `items_shelf_id` tinyint NOT NULL,
  `items_shelf_id_uuid` tinyint NOT NULL,
  `items_shelf_type` tinyint NOT NULL,
  `items_shelf_id_barcode2` tinyint NOT NULL,
  `locations_shelf_id` tinyint NOT NULL,
  `shelf_freezer` tinyint NOT NULL,
  `rack_freezer` tinyint NOT NULL,
  `box_freezer` tinyint NOT NULL,
  `items_freezer` tinyint NOT NULL,
  `freezer` tinyint NOT NULL,
  `locations_subdiv1` tinyint NOT NULL,
  `locations_subdiv2` tinyint NOT NULL,
  `locations_subdiv3` tinyint NOT NULL,
  `locations_subdiv4` tinyint NOT NULL,
  `locations_subdiv5` tinyint NOT NULL
) ENGINE=MyISAM */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `vwlocations_active`
--

DROP TABLE IF EXISTS `vwlocations_active`;
/*!50001 DROP VIEW IF EXISTS `vwlocations_active`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE TABLE `vwlocations_active` (
  `id` tinyint NOT NULL,
  `id_item` tinyint NOT NULL,
  `id_container` tinyint NOT NULL,
  `id_site` tinyint NOT NULL,
  `freezer` tinyint NOT NULL,
  `subdiv1` tinyint NOT NULL,
  `subdiv2` tinyint NOT NULL,
  `subdiv3` tinyint NOT NULL,
  `subdiv4` tinyint NOT NULL,
  `subdiv5` tinyint NOT NULL,
  `destination` tinyint NOT NULL,
  `date_moved` tinyint NOT NULL,
  `timestamp` tinyint NOT NULL,
  `name_created` tinyint NOT NULL
) ENGINE=MyISAM */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `vwlocationsanditems`
--

DROP TABLE IF EXISTS `vwlocationsanditems`;
/*!50001 DROP VIEW IF EXISTS `vwlocationsanditems`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE TABLE `vwlocationsanditems` (
  `items_id_study` tinyint NOT NULL,
  `items_id_subject` tinyint NOT NULL,
  `items_quant_init` tinyint NOT NULL,
  `items_quant_cur` tinyint NOT NULL,
  `items_sample_type` tinyint NOT NULL,
  `items_id_visit` tinyint NOT NULL,
  `items_date_collection` tinyint NOT NULL,
  `items_shipment_type` tinyint NOT NULL,
  `items_date_visit` tinyint NOT NULL,
  `items_unit` tinyint NOT NULL,
  `items_timestamp` tinyint NOT NULL,
  `items_divY` tinyint NOT NULL,
  `items_divX` tinyint NOT NULL,
  `items_destination` tinyint NOT NULL,
  `locations_destination` tinyint NOT NULL,
  `items_share` tinyint NOT NULL,
  `items_id` tinyint NOT NULL,
  `items_id_uuid` tinyint NOT NULL,
  `items_type` tinyint NOT NULL,
  `items_id_barcode2` tinyint NOT NULL,
  `locations_id` tinyint NOT NULL,
  `items_box_id` tinyint NOT NULL,
  `items_box_id_uuid` tinyint NOT NULL,
  `items_box_type` tinyint NOT NULL,
  `items_box_id_barcode2` tinyint NOT NULL,
  `locations_box_id` tinyint NOT NULL,
  `items_rack_id` tinyint NOT NULL,
  `items_rack_id_uuid` tinyint NOT NULL,
  `items_rack_type` tinyint NOT NULL,
  `items_rack_id_barcode2` tinyint NOT NULL,
  `locations_rack_id` tinyint NOT NULL,
  `items_shelf_id` tinyint NOT NULL,
  `items_shelf_id_uuid` tinyint NOT NULL,
  `items_shelf_type` tinyint NOT NULL,
  `items_shelf_id_barcode2` tinyint NOT NULL,
  `locations_shelf_id` tinyint NOT NULL,
  `locations_freezer` tinyint NOT NULL,
  `locations_subdiv1` tinyint NOT NULL,
  `locations_subdiv2` tinyint NOT NULL,
  `locations_subdiv3` tinyint NOT NULL,
  `locations_subdiv4` tinyint NOT NULL,
  `locations_subdiv5` tinyint NOT NULL
) ENGINE=MyISAM */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `vwrackandlocations`
--

DROP TABLE IF EXISTS `vwrackandlocations`;
/*!50001 DROP VIEW IF EXISTS `vwrackandlocations`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE TABLE `vwrackandlocations` (
  `id` tinyint NOT NULL,
  `id_container` tinyint NOT NULL,
  `id_uuid` tinyint NOT NULL,
  `name_created` tinyint NOT NULL,
  `name_owner` tinyint NOT NULL,
  `name_shipper` tinyint NOT NULL,
  `id_study` tinyint NOT NULL,
  `id_subject` tinyint NOT NULL,
  `quant_init` tinyint NOT NULL,
  `quant_cur` tinyint NOT NULL,
  `sample_type` tinyint NOT NULL,
  `id_visit` tinyint NOT NULL,
  `date_collection` tinyint NOT NULL,
  `shipment_type` tinyint NOT NULL,
  `date_visit` tinyint NOT NULL,
  `unit` tinyint NOT NULL,
  `timestamp` tinyint NOT NULL,
  `divY` tinyint NOT NULL,
  `divX` tinyint NOT NULL,
  `items_destination` tinyint NOT NULL,
  `locations_destination` tinyint NOT NULL,
  `share` tinyint NOT NULL,
  `freezer` tinyint NOT NULL,
  `locations_id` tinyint NOT NULL,
  `subdiv` tinyint NOT NULL
) ENGINE=MyISAM */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `vwshelfandlocations`
--

DROP TABLE IF EXISTS `vwshelfandlocations`;
/*!50001 DROP VIEW IF EXISTS `vwshelfandlocations`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE TABLE `vwshelfandlocations` (
  `id` tinyint NOT NULL,
  `id_container` tinyint NOT NULL,
  `id_uuid` tinyint NOT NULL,
  `name_created` tinyint NOT NULL,
  `name_owner` tinyint NOT NULL,
  `name_shipper` tinyint NOT NULL,
  `id_study` tinyint NOT NULL,
  `id_subject` tinyint NOT NULL,
  `quant_init` tinyint NOT NULL,
  `quant_cur` tinyint NOT NULL,
  `sample_type` tinyint NOT NULL,
  `id_visit` tinyint NOT NULL,
  `date_collection` tinyint NOT NULL,
  `shipment_type` tinyint NOT NULL,
  `date_visit` tinyint NOT NULL,
  `unit` tinyint NOT NULL,
  `timestamp` tinyint NOT NULL,
  `divY` tinyint NOT NULL,
  `divX` tinyint NOT NULL,
  `items_destination` tinyint NOT NULL,
  `locations_destination` tinyint NOT NULL,
  `share` tinyint NOT NULL,
  `freezer` tinyint NOT NULL,
  `locations_id` tinyint NOT NULL,
  `subdiv` tinyint NOT NULL
) ENGINE=MyISAM */;
SET character_set_client = @saved_cs_client;

--
-- Temporary table structure for view `vwtubeandlocations`
--

DROP TABLE IF EXISTS `vwtubeandlocations`;
/*!50001 DROP VIEW IF EXISTS `vwtubeandlocations`*/;
SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;
/*!50001 CREATE TABLE `vwtubeandlocations` (
  `alq_num` tinyint NOT NULL,
  `consumed` tinyint NOT NULL,
  `quant_thaws` tinyint NOT NULL,
  `id` tinyint NOT NULL,
  `id_container` tinyint NOT NULL,
  `id_uuid` tinyint NOT NULL,
  `name_created` tinyint NOT NULL,
  `name_owner` tinyint NOT NULL,
  `name_shipper` tinyint NOT NULL,
  `id_study` tinyint NOT NULL,
  `id_subject` tinyint NOT NULL,
  `quant_init` tinyint NOT NULL,
  `quant_cur` tinyint NOT NULL,
  `sample_type` tinyint NOT NULL,
  `id_visit` tinyint NOT NULL,
  `date_collection` tinyint NOT NULL,
  `shipment_type` tinyint NOT NULL,
  `date_visit` tinyint NOT NULL,
  `unit` tinyint NOT NULL,
  `timestamp` tinyint NOT NULL,
  `divY` tinyint NOT NULL,
  `divX` tinyint NOT NULL,
  `items_destination` tinyint NOT NULL,
  `locations_destination` tinyint NOT NULL,
  `share` tinyint NOT NULL,
  `freezer` tinyint NOT NULL,
  `locations_id` tinyint NOT NULL,
  `subdivx` tinyint NOT NULL,
  `subdivy` tinyint NOT NULL
) ENGINE=MyISAM */;
SET character_set_client = @saved_cs_client;

--
-- Final view structure for view `items_locations`
--

/*!50001 DROP TABLE IF EXISTS `items_locations`*/;
/*!50001 DROP VIEW IF EXISTS `items_locations`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`tclab`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `items_locations` AS select `items`.`id_study` AS `items_id_study`,`items`.`quant_cur` AS `items_quant_cur`,`items`.`sample_type` AS `items_sample_type`,`items`.`shipment_type` AS `items_shipment_type`,`items`.`date_visit` AS `items_date_visit`,`items`.`unit` AS `items_unit`,`items`.`divY` AS `items_divY`,`items`.`divX` AS `items_divX`,`items`.`id` AS `items_id`,`items`.`id_uuid` AS `items_id_uuid`,`items`.`type` AS `items_type`,`items`.`id_barcode2` AS `items_id_barcode2`,`locations`.`id` AS `locations_id`,`locations`.`subdiv4` AS `locations_subdiv4`,`locations`.`subdiv5` AS `locations_subdiv5`,`items1`.`id` AS `items1_id`,`items1`.`id_uuid` AS `items1_id_uuid`,`items1`.`type` AS `items1_type`,`items1`.`id_barcode2` AS `items1_id_barcode2`,`locations1`.`id` AS `locations1_id`,`items2`.`id` AS `items2_id`,`items2`.`id_uuid` AS `items2_id_uuid`,`items2`.`type` AS `items2_type`,`items2`.`id_barcode2` AS `items2_id_barcode2`,`locations2`.`id` AS `locations2_id`,`items3`.`id` AS `items3_id`,`items3`.`id_uuid` AS `items3_id_uuid`,`items3`.`type` AS `items3_type`,`items3`.`id_barcode2` AS `items3_id_barcode2`,`locations3`.`id` AS `locations3_id`,`locations`.`freezer` AS `freezer`,`locations`.`subdiv1` AS `locations_subdiv1`,`locations`.`subdiv2` AS `locations_subdiv2`,`locations`.`subdiv3` AS `locations_subdiv3` from (((((((`items` left join `locations` on((`items`.`id` = `locations`.`id_item`))) left join `items` `items1` on((`items1`.`id` = `locations`.`id_container`))) left join `locations` `locations1` on((`locations1`.`id_item` = `items1`.`id`))) left join `items` `items2` on((`items2`.`id` = `locations1`.`id_container`))) left join `locations` `locations2` on((`locations2`.`id_item` = `items2`.`id`))) left join `items` `items3` on((`items3`.`id` = `locations2`.`id_container`))) left join `locations` `locations3` on((`locations3`.`id_item` = `items3`.`id`))) where ((isnull(`locations`.`date_moved`) or (`locations`.`date_moved` = _latin1'0000-00-00')) and (isnull(`locations1`.`date_moved`) or (`locations1`.`date_moved` = _latin1'0000-00-00')) and (isnull(`locations2`.`date_moved`) or (`locations2`.`date_moved` = _latin1'0000-00-00')) and (isnull(`locations3`.`date_moved`) or (`locations3`.`date_moved` = _latin1'0000-00-00')) and (`items`.`quant_cur` > 0) and (`items`.`type` = _latin1'tube')) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `vwboxandlocations`
--

/*!50001 DROP TABLE IF EXISTS `vwboxandlocations`*/;
/*!50001 DROP VIEW IF EXISTS `vwboxandlocations`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`tclab`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vwboxandlocations` AS select `items`.`id` AS `id`,`locations`.`id_container` AS `id_container`,`items`.`id_uuid` AS `id_uuid`,`items`.`name_created` AS `name_created`,`items`.`name_owner` AS `name_owner`,`items`.`name_shipper` AS `name_shipper`,`items`.`id_study` AS `id_study`,`items`.`id_subject` AS `id_subject`,`items`.`quant_init` AS `quant_init`,`items`.`quant_cur` AS `quant_cur`,`items`.`sample_type` AS `sample_type`,`items`.`id_visit` AS `id_visit`,`items`.`date_collection` AS `date_collection`,`items`.`shipment_type` AS `shipment_type`,`items`.`date_visit` AS `date_visit`,`items`.`unit` AS `unit`,`items`.`timestamp` AS `timestamp`,`items`.`divY` AS `divY`,`items`.`divX` AS `divX`,`items`.`destination` AS `items_destination`,`locations`.`destination` AS `locations_destination`,`items`.`share` AS `share`,`locations`.`freezer` AS `freezer`,`locations`.`id` AS `locations_id`,`locations`.`subdiv3` AS `subdiv` from (`items` join `vwlocations_active` `locations` on((`items`.`id` = `locations`.`id_item`))) where (`items`.`type` = _latin1'box') */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `vwinventory`
--

/*!50001 DROP TABLE IF EXISTS `vwinventory`*/;
/*!50001 DROP VIEW IF EXISTS `vwinventory`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`tclab`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vwinventory` AS select `items`.`id_study` AS `items_id_study`,`items`.`id_subject` AS `items_id_subject`,`items`.`id_visit` AS `items_id_visit`,`items`.`date_visit` AS `items_date_visit`,`items`.`date_receipt` AS `items_date_receipt`,`items`.`sample_type` AS `items_sample_type`,`items`.`shipment_type` AS `items_shipment_type`,`items`.`destination` AS `items_destination`,`items`.`id` AS `items_id`,`items`.`id_uuid` AS `items_id_uuid`,`items`.`type` AS `items_type`,0 AS `items_box_id`,`items`.`comment1` AS `items_comment1`,0 AS `items_rack_id`,0 AS `items_shelf_id`,`locations`.`freezer` AS `freezer`,`locations`.`subdiv1` AS `locations_subdiv1`,`locations`.`subdiv2` AS `locations_subdiv2`,`locations`.`subdiv3` AS `locations_subdiv3`,`locations`.`subdiv4` AS `locations_subdiv4`,`locations`.`subdiv5` AS `locations_subdiv5` from (`items` left join `locations` on((`items`.`id` = `locations`.`id_item`))) where isnull(`locations`.`date_moved`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `vwitemsandlocations`
--

/*!50001 DROP TABLE IF EXISTS `vwitemsandlocations`*/;
/*!50001 DROP VIEW IF EXISTS `vwitemsandlocations`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`tclab`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vwitemsandlocations` AS select `items`.`consumed` AS `consumed`,`items`.`id_study` AS `items_id_study`,`items`.`id_subject` AS `items_id_subject`,`items`.`quant_init` AS `items_quant_init`,`items`.`quant_cur` AS `items_quant_cur`,`items`.`sample_type` AS `items_sample_type`,`items`.`id_visit` AS `items_id_visit`,`items`.`date_collection` AS `items_date_collection`,`items`.`shipment_type` AS `items_shipment_type`,`items`.`date_visit` AS `items_date_visit`,`items`.`unit` AS `items_unit`,`items`.`timestamp` AS `items_timestamp`,`items`.`divY` AS `items_divY`,`items`.`divX` AS `items_divX`,`items`.`destination` AS `items_destination`,`items`.`share` AS `items_share`,`items`.`id` AS `items_id`,`items`.`id_uuid` AS `items_id_uuid`,`items`.`type` AS `items_type`,`items`.`id_barcode2` AS `items_id_barcode2`,`locations`.`id` AS `locations_id`,`items1`.`id` AS `items_box_id`,`items1`.`id_uuid` AS `items_box_id_uuid`,`items1`.`type` AS `items_box_type`,`items1`.`id_barcode2` AS `items_box_id_barcode2`,`locations1`.`id` AS `locations_box_id`,`items2`.`id` AS `items_rack_id`,`items2`.`id_uuid` AS `items_rack_id_uuid`,`items2`.`type` AS `items_rack_type`,`items2`.`id_barcode2` AS `items_rack_id_barcode2`,`locations2`.`id` AS `locations_rack_id`,`items3`.`id` AS `items_shelf_id`,`items3`.`id_uuid` AS `items_shelf_id_uuid`,`items3`.`type` AS `items_shelf_type`,`items3`.`id_barcode2` AS `items_shelf_id_barcode2`,`locations3`.`id` AS `locations_shelf_id`,`locations3`.`freezer` AS `shelf_freezer`,`locations2`.`freezer` AS `rack_freezer`,`locations1`.`freezer` AS `box_freezer`,`locations`.`freezer` AS `items_freezer`,ifnull(`locations3`.`freezer`,`locations`.`freezer`) AS `freezer`,`locations3`.`subdiv1` AS `locations_subdiv1`,`locations2`.`subdiv2` AS `locations_subdiv2`,`locations1`.`subdiv3` AS `locations_subdiv3`,`locations`.`subdiv4` AS `locations_subdiv4`,`locations`.`subdiv5` AS `locations_subdiv5` from (((((((`items` left join `vwlocations_active` `locations` on((`items`.`id` = `locations`.`id_item`))) left join `items` `items1` on((`items1`.`id` = `locations`.`id_container`))) left join `vwlocations_active` `locations1` on((`locations1`.`id_item` = `items1`.`id`))) left join `items` `items2` on((`items2`.`id` = `locations1`.`id_container`))) left join `vwlocations_active` `locations2` on((`locations2`.`id_item` = `items2`.`id`))) left join `items` `items3` on((`items3`.`id` = `locations2`.`id_container`))) left join `vwlocations_active` `locations3` on((`locations3`.`id_item` = `items3`.`id`))) where (`items`.`type` = _latin1'tube') */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `vwlocations_active`
--

/*!50001 DROP TABLE IF EXISTS `vwlocations_active`*/;
/*!50001 DROP VIEW IF EXISTS `vwlocations_active`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`tclab`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vwlocations_active` AS select `locations`.`id` AS `id`,`locations`.`id_item` AS `id_item`,`locations`.`id_container` AS `id_container`,`locations`.`id_site` AS `id_site`,`locations`.`freezer` AS `freezer`,`locations`.`subdiv1` AS `subdiv1`,`locations`.`subdiv2` AS `subdiv2`,`locations`.`subdiv3` AS `subdiv3`,`locations`.`subdiv4` AS `subdiv4`,`locations`.`subdiv5` AS `subdiv5`,`locations`.`destination` AS `destination`,`locations`.`date_moved` AS `date_moved`,`locations`.`timestamp` AS `timestamp`,`locations`.`name_created` AS `name_created` from `locations` where isnull(`locations`.`date_moved`) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `vwlocationsanditems`
--

/*!50001 DROP TABLE IF EXISTS `vwlocationsanditems`*/;
/*!50001 DROP VIEW IF EXISTS `vwlocationsanditems`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`tclab`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vwlocationsanditems` AS select `items`.`id_study` AS `items_id_study`,`items`.`id_subject` AS `items_id_subject`,`items`.`quant_init` AS `items_quant_init`,`items`.`quant_cur` AS `items_quant_cur`,`items`.`sample_type` AS `items_sample_type`,`items`.`id_visit` AS `items_id_visit`,`items`.`date_collection` AS `items_date_collection`,`items`.`shipment_type` AS `items_shipment_type`,`items`.`date_visit` AS `items_date_visit`,`items`.`unit` AS `items_unit`,`items`.`timestamp` AS `items_timestamp`,`items`.`divY` AS `items_divY`,`items`.`divX` AS `items_divX`,`items`.`destination` AS `items_destination`,`locations`.`destination` AS `locations_destination`,`items`.`share` AS `items_share`,`items`.`id` AS `items_id`,`items`.`id_uuid` AS `items_id_uuid`,`items`.`type` AS `items_type`,`items`.`id_barcode2` AS `items_id_barcode2`,`locations`.`id` AS `locations_id`,`items1`.`id` AS `items_box_id`,`items1`.`id_uuid` AS `items_box_id_uuid`,`items1`.`type` AS `items_box_type`,`items1`.`id_barcode2` AS `items_box_id_barcode2`,`locations1`.`id` AS `locations_box_id`,`items2`.`id` AS `items_rack_id`,`items2`.`id_uuid` AS `items_rack_id_uuid`,`items2`.`type` AS `items_rack_type`,`items2`.`id_barcode2` AS `items_rack_id_barcode2`,`locations2`.`id` AS `locations_rack_id`,`items3`.`id` AS `items_shelf_id`,`items3`.`id_uuid` AS `items_shelf_id_uuid`,`items3`.`type` AS `items_shelf_type`,`items3`.`id_barcode2` AS `items_shelf_id_barcode2`,`locations3`.`id` AS `locations_shelf_id`,`locations3`.`freezer` AS `locations_freezer`,`locations3`.`subdiv1` AS `locations_subdiv1`,`locations2`.`subdiv2` AS `locations_subdiv2`,`locations1`.`subdiv3` AS `locations_subdiv3`,`locations`.`subdiv4` AS `locations_subdiv4`,`locations`.`subdiv5` AS `locations_subdiv5` from (((((((`items` left join `vwlocations_active` `locations` on((`items`.`id` = `locations`.`id_item`))) left join `items` `items1` on((`items1`.`id` = `locations`.`id_container`))) left join `vwlocations_active` `locations1` on((`locations1`.`id_item` = `items1`.`id`))) left join `items` `items2` on((`items2`.`id` = `locations1`.`id_container`))) left join `vwlocations_active` `locations2` on((`locations2`.`id_item` = `items2`.`id`))) left join `items` `items3` on((`items3`.`id` = `locations2`.`id_container`))) left join `vwlocations_active` `locations3` on((`locations3`.`id_item` = `items3`.`id`))) where (`items`.`type` = _latin1'tube') */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `vwrackandlocations`
--

/*!50001 DROP TABLE IF EXISTS `vwrackandlocations`*/;
/*!50001 DROP VIEW IF EXISTS `vwrackandlocations`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`tclab`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vwrackandlocations` AS select `items`.`id` AS `id`,`locations`.`id_container` AS `id_container`,`items`.`id_uuid` AS `id_uuid`,`items`.`name_created` AS `name_created`,`items`.`name_owner` AS `name_owner`,`items`.`name_shipper` AS `name_shipper`,`items`.`id_study` AS `id_study`,`items`.`id_subject` AS `id_subject`,`items`.`quant_init` AS `quant_init`,`items`.`quant_cur` AS `quant_cur`,`items`.`sample_type` AS `sample_type`,`items`.`id_visit` AS `id_visit`,`items`.`date_collection` AS `date_collection`,`items`.`shipment_type` AS `shipment_type`,`items`.`date_visit` AS `date_visit`,`items`.`unit` AS `unit`,`items`.`timestamp` AS `timestamp`,`items`.`divY` AS `divY`,`items`.`divX` AS `divX`,`items`.`destination` AS `items_destination`,`locations`.`destination` AS `locations_destination`,`items`.`share` AS `share`,`locations`.`freezer` AS `freezer`,`locations`.`id` AS `locations_id`,`locations`.`subdiv2` AS `subdiv` from (`items` join `vwlocations_active` `locations` on((`items`.`id` = `locations`.`id_item`))) where (`items`.`type` = _latin1'rack') */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `vwshelfandlocations`
--

/*!50001 DROP TABLE IF EXISTS `vwshelfandlocations`*/;
/*!50001 DROP VIEW IF EXISTS `vwshelfandlocations`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`tclab`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vwshelfandlocations` AS select `items`.`id` AS `id`,`locations`.`id_container` AS `id_container`,`items`.`id_uuid` AS `id_uuid`,`items`.`name_created` AS `name_created`,`items`.`name_owner` AS `name_owner`,`items`.`name_shipper` AS `name_shipper`,`items`.`id_study` AS `id_study`,`items`.`id_subject` AS `id_subject`,`items`.`quant_init` AS `quant_init`,`items`.`quant_cur` AS `quant_cur`,`items`.`sample_type` AS `sample_type`,`items`.`id_visit` AS `id_visit`,`items`.`date_collection` AS `date_collection`,`items`.`shipment_type` AS `shipment_type`,`items`.`date_visit` AS `date_visit`,`items`.`unit` AS `unit`,`items`.`timestamp` AS `timestamp`,`items`.`divY` AS `divY`,`items`.`divX` AS `divX`,`items`.`destination` AS `items_destination`,`locations`.`destination` AS `locations_destination`,`items`.`share` AS `share`,`locations`.`freezer` AS `freezer`,`locations`.`id` AS `locations_id`,`locations`.`subdiv1` AS `subdiv` from (`items` join `vwlocations_active` `locations` on((`items`.`id` = `locations`.`id_item`))) where (`items`.`type` = _latin1'shelf') */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `vwtubeandlocations`
--

/*!50001 DROP TABLE IF EXISTS `vwtubeandlocations`*/;
/*!50001 DROP VIEW IF EXISTS `vwtubeandlocations`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8 */;
/*!50001 SET character_set_results     = utf8 */;
/*!50001 SET collation_connection      = utf8_general_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`tclab`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `vwtubeandlocations` AS select `items`.`alq_num` AS `alq_num`,`items`.`consumed` AS `consumed`,`items`.`quant_thaws` AS `quant_thaws`,`items`.`id` AS `id`,`locations`.`id_container` AS `id_container`,`items`.`id_uuid` AS `id_uuid`,`items`.`name_created` AS `name_created`,`items`.`name_owner` AS `name_owner`,`items`.`name_shipper` AS `name_shipper`,`items`.`id_study` AS `id_study`,`items`.`id_subject` AS `id_subject`,`items`.`quant_init` AS `quant_init`,`items`.`quant_cur` AS `quant_cur`,`items`.`sample_type` AS `sample_type`,`items`.`id_visit` AS `id_visit`,`items`.`date_collection` AS `date_collection`,`items`.`shipment_type` AS `shipment_type`,`items`.`date_visit` AS `date_visit`,`items`.`unit` AS `unit`,`items`.`timestamp` AS `timestamp`,`items`.`divY` AS `divY`,`items`.`divX` AS `divX`,`items`.`destination` AS `items_destination`,`locations`.`destination` AS `locations_destination`,`items`.`share` AS `share`,`locations`.`freezer` AS `freezer`,`locations`.`id` AS `locations_id`,`locations`.`subdiv4` AS `subdivx`,`locations`.`subdiv5` AS `subdivy` from (`items` join `vwlocations_active` `locations` on((`items`.`id` = `locations`.`id_item`))) where (`items`.`type` = _latin1'tube') */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2016-05-10 16:16:36
